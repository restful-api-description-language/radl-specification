plugins {
  id 'java'
  id 'eclipse'
}

defaultTasks 'build'

task wrapper(type: Wrapper) {
  gradleVersion = 2.11
}

jar {
  into ('schema') {
    from ('schema')
  }
  into ('examples') {
    from ('examples')
  }
  archiveName = "$project.name-${env('TRAVIS_TAG',version)}.${env('TRAVIS_BUILD_NUMBER','0')}.jar"
}

def env(name, defaultValue) {
  def result = System.getenv(name)
  result == null || result.isEmpty() ? defaultValue : result
}
